ProductRelationsUpdatedCommand withRelations(Set<ProductRelationDto> relationDtos) {
        if (relationDtos != null && !relationDtos.isEmpty()) {
            Set<ProductRelationsForm> formRelations = relationDtos.stream()
                .map(dto -> ProductRelationsForm.builder()
                    .sourceId(dto.getSourceId())
                    .targetId(this.updatedProductId)
                    .relationType(dto.getRelationType())
                    .build())
                .collect(java.util.stream.Collectors.toSet());
            
            if (this.relations == null) {
                this.relations = new java.util.HashSet<>();
            }
            
            this.relations.addAll(formRelations);
        }
        
        return this;
    }
